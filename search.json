[{"path":"https://furlan-lab.github.io//LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 Scott N Furlan Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://furlan-lab.github.io//articles/HowTo.html","id":"installing-rust","dir":"Articles","previous_headings":"","what":"Installing Rust","title":"How to use mergebamsR","text":"First need updated Rust installation. Go site learn install Rust.","code":""},{"path":"https://furlan-lab.github.io//articles/HowTo.html","id":"installing-mergebamsr","dir":"Articles","previous_headings":"","what":"Installing mergebamsR","title":"How to use mergebamsR","text":"need devtools package installed…","code":"devtools::install_github(\"furlan-lab/mergebamsR\")"},{"path":"https://furlan-lab.github.io//articles/HowTo.html","id":"running-mergebamsr","dir":"Articles","previous_headings":"","what":"Running mergebamsR","title":"How to use mergebamsR","text":"Loading libraries","code":"rm(list=ls()) suppressPackageStartupMessages({   library(mergebamsR) })  outpath<-\"/tmp\" root<-file.path(.libPaths(), \"mergebamsR/extdata/test\")"},{"path":"https://furlan-lab.github.io//articles/HowTo.html","id":"simple-merging-of-two-bams-located-in-test-folder","dir":"Articles","previous_headings":"","what":"Simple merging of two bams located in test folder","title":"How to use mergebamsR","text":"two bam files located test directory repository. create merge two bam files test/folder, run following.","code":"mergebams(bams = c(\"inst/extdata/test/bam1.bam\",\"inst/extdata/test/bam2.bam\"), out_path = outpath)"},{"path":"https://furlan-lab.github.io//articles/HowTo.html","id":"prepending-cell-barcodes-cb","dir":"Articles","previous_headings":"","what":"Prepending cell barcodes (CB)","title":"How to use mergebamsR","text":"merging bams single cell data, may advantageous include additional information cell barcode tag reflects merge. case merging two bam files prepending cell barcodes prefixes “test_1_” first file “test_2_” second file. prefixes parameter must contain character vector prefixes equal length character vector bams argument.","code":"mergebams(bams = c(file.path(root, \"bam1.bam\"), file.path(root, \"bam2.bam\")), out_path = outpath, prefixes = c(\"test1_\",\"test2_\"))"},{"path":"https://furlan-lab.github.io//articles/HowTo.html","id":"filtering","dir":"Articles","previous_headings":"","what":"Filtering","title":"How to use mergebamsR","text":"Finally, may also useful filter bam files include specific reads. mergebamsR provides feature. supplying list character vectors containing read names kept, one can filter output bam reads interest. , list length needs length bams character vector input. situations certain bam files filtered, include NULL list files meant filtered. , filter two reads bam1.bam retain reads bam2.bam.","code":"mergebams(bams = c(file.path(root, \"bam1.bam\"), file.path(root, \"bam2.bam\")),            out_path = outpath,            prefixes = c(\"test1_\",\"test2_\"),            names = list(c(\"VH00738:4:AAAW2TWHV:1:2512:20125:30230\", \"VH00738:4:AAAW2TWHV:1:1612:47827:5146\"),                         c(\"VH00738:4:AAAW2TWHV:2:2114:49683:55957\", \"VH00738:4:AAAW2TWHV:2:1203:65210:13741\"))) mergebams(bams = c(file.path(root, \"bam1.bam\"), file.path(root, \"bam2.bam\")),            out_path = outpath,            prefixes = c(\"test1_\",\"test2_\"),            names = list(c(\"VH00738:4:AAAW2TWHV:1:2512:20125:30230\", \"VH00738:4:AAAW2TWHV:1:1612:47827:5146\"),                         NULL))"},{"path":"https://furlan-lab.github.io//articles/HowTo.html","id":"subset-individual-bam-files","dir":"Articles","previous_headings":"","what":"Subset individual BAM files","title":"How to use mergebamsR","text":"Although tools already exist subsetting bam files using shell scripting, may helpful subset BAM files BAM tag using R interface single-cell toolkits Seurat, Monocle, SCE can run adjacent. mergebamsR provides usability. Currently one bam file supported input. number elements following : 1. list “tags” specifies desired TAGS captured output file 2. vector file output names 3. optional prefixes added TAG Note multithreading implemented split work byt number outputbam files created. Therefore, example, use 2 cores creating two bam files. TAG name BAM Tag subset . default “CB”. peek TAGs interest Now can make two bams time Note may need remove files exst","code":"subsetbam(inputbam = file.path(root, \"bam1.bam\"), outputbams = \"/tmp/test.bam\", tags = list(c(\"ATTGGACAGTCATGCT-1\", \"TTTACTGAGTCGATAA-1\")), cores=1) cbs = peekbam(bam = file.path(root, \"bam1.bam\"), TAG=\"CB\", n=100) cbs ##   [1] \"ATTGGACAGTCATGCT-1\" \"TTTACTGAGTCGATAA-1\" \"ATCATGGCAGACGCTC-1\" ##   [4] \"CACTCCATCTCGCTTG-1\" \"GCTGCGAGTCCGTCAG-1\" \"CTCTACGGTCCAGTAT-1\" ##   [7] \"TAGTTGGGTTCAGACT-1\" \"CAGTCCTAGCAATATG-1\" \"CGACCTTTCCACGTGG-1\" ##  [10] \"GGAAAGCTCTCAACTT-1\" \"GGACATTCAGCAGTTT-1\" \"GACGCGTCATCTCGCT-1\" ##  [13] \"TCGGGACGTGCTCTTC-1\" \"GTTCATTTCGAATCCA-1\" \"GTGCAGCGTACACCGC-1\" ##  [16] \"CAGTCCTTCACGGTTA-1\" \"GAGCAGACAGACAGGT-1\" \"ATGTGTGCACATGTGT-1\" ##  [19] \"TCATTACTCGGAAACG-1\" \"TGCGTGGAGCCATCGC-1\" \"GTCTCGTCACCTATCC-1\" ##  [22] \"CATTATCCATTGTGCA-1\" \"AAGTCTGCACAGGAGT-1\" \"GACCAATGTCCTCTTG-1\" ##  [25] \"TCACAAGGTGACTACT-1\" \"GCGAGAACAACACGCC-1\" \"GTAACGTCAAAGAATC-1\" ##  [28] \"AGATCTGTCATCACCC-1\" \"TACGGTAGTAGCTCCG-1\" \"TGAGCCGCACGAGGTA-1\" ##  [31] \"CGTCACTTCACCACCT-1\" \"CTCACACTCTAACTCT-1\" \"CACAAACTCACATACG-1\" ##  [34] \"CGACTTCCATTTCAGG-1\" \"TACTTACTCGGAATCT-1\" \"ACTTTCATCCCAACGG-1\" ##  [37] \"GATGAAAGTCAGAGGT-1\" \"AGTGTCAGTCTCTCTG-1\" \"CGGAGTCTCAGCTCTC-1\" ##  [40] \"ATAGACCAGTCCATAC-1\" \"CGAGCCACAAGAAGAG-1\" \"CAGGTGCCAATAGCGG-1\" ##  [43] \"AATCGGTCAGATGGCA-1\" \"AATCCAGAGATCGGGT-1\" \"ACTTACTGTGTTTGGT-1\" ##  [46] \"GGGCACTCATAAGACA-1\" \"CTGTGCTCAAGAGGCT-1\" \"GCGCCAAAGGAGCGTT-1\" ##  [49] \"CCTAAAGCAAGTCTGT-1\" \"GGGACCTCAGACTCGC-1\" \"GTAGTCACATGGTTGT-1\" ##  [52] \"AATCCAGTCAGTTAGC-1\" \"AACTGGTGTTGCGCAC-1\" \"TGACAACTCTAACTGG-1\" ##  [55] \"AACTCTTGTTGTTTGG-1\" \"GACCAATGTACGACCC-1\" \"AAAGTAGGTCCGAAGA-1\" ##  [58] \"AGTGGGAAGAGCCCAA-1\" \"GACGTTATCGTTTAGG-1\" \"TAAGAGACAAGCGAGT-1\" ##  [61] \"TAAACCGCAAGCGATG-1\" \"CCGGTAGGTGCGGTAA-1\" \"CACCAGGTCTGTGCAA-1\" ##  [64] \"GAACATCCAGTAAGCG-1\" \"CGACCTTTCATTTGGG-1\" \"AGTGAGGAGAGAGCTC-1\" ##  [67] \"ACTATCTGTGATGTCT-1\" \"TCGAGGCCAGATGGCA-1\" \"CCATGTCGTCAGGACA-1\" ##  [70] \"CCGTGGAAGACTTGAA-1\" \"ACTTTCAGTATAGTAG-1\" \"GCATACATCGGTGTCG-1\" ##  [73] \"GAACCTACAGATCTGT-1\" \"TGGTTAGCACACTGCG-1\" \"AGGGTGATCTGTGCAA-1\" ##  [76] \"GTATCTTCACTCGACG-1\" \"TCATTACTCATCGATG-1\" \"CATCAGACAACACCCG-1\" ##  [79] \"CGAACATCACCTCGGA-1\" \"GTGCGGTGTAAATGTG-1\" \"GCAGCCATCTATCGCC-1\" ##  [82] \"TACGGATGTCACAAGG-1\" \"TTCGGTCGTCAACTGT-1\" \"CAAGTTGCAGGATTGG-1\" ##  [85] \"CGCTGGAAGATATGCA-1\" \"GGAACTTAGTTGCAGG-1\" \"CGATGGCAGGTGCTTT-1\" ##  [88] \"ACCCACTTCTCCAACC-1\" \"GATCGATGTCTAGGTT-1\" \"GGTGCGTTCAGGCAAG-1\" ##  [91] \"ACAGCTACAGGGTACA-1\" \"CGTCTACTCGAGAACG-1\" \"CAGCTGGTCGAACTGT-1\" ##  [94] \"TGATTTCTCTTACCTA-1\" \"TGGACGCTCACTTCAT-1\" \"ACGCAGCGTTACGGAG-1\" ##  [97] \"TCTGAGATCCCTAATT-1\" \"ACTGAACGTTATTCTC-1\" \"ACTGATGTCGTGGTCG-1\" ## [100] \"AACCATGGTCTTGTCC-1\" subsetbam(inputbam = file.path(root, \"bam1.bam\"), outputbams = c(\"/tmp/test1.bam\", \"/tmp/test2.bam\"), tags = list(cbs[1:50], cbs[51:100]), cores=2) file.remove(list.files(\"/tmp\", full.names = T)) ## [1] TRUE TRUE TRUE TRUE TRUE"},{"path":"https://furlan-lab.github.io//articles/HowTo.html","id":"appendix","dir":"Articles","previous_headings":"","what":"Appendix","title":"How to use mergebamsR","text":"","code":"sessionInfo() ## R version 4.3.2 (2023-10-31) ## Platform: aarch64-apple-darwin20 (64-bit) ## Running under: macOS Ventura 13.5.2 ##  ## Matrix products: default ## BLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib  ## LAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0 ##  ## locale: ## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 ##  ## time zone: America/Los_Angeles ## tzcode source: internal ##  ## attached base packages: ## [1] stats     graphics  grDevices utils     datasets  methods   base      ##  ## other attached packages: ## [1] mergebamsR_0.0.1 ##  ## loaded via a namespace (and not attached): ##  [1] vctrs_0.6.5       cli_3.6.2         knitr_1.45        rlang_1.1.3       ##  [5] xfun_0.42         stringi_1.8.3     purrr_1.0.2       textshaping_0.3.7 ##  [9] jsonlite_1.8.8    glue_1.7.0        htmltools_0.5.7   ragg_1.2.7        ## [13] sass_0.4.8        rmarkdown_2.25    pbmcapply_1.5.1   evaluate_0.23     ## [17] jquerylib_0.1.4   fastmap_1.1.1     yaml_2.3.8        lifecycle_1.0.4   ## [21] memoise_2.0.1     stringr_1.5.1     compiler_4.3.2    fs_1.6.3          ## [25] rstudioapi_0.15.0 systemfonts_1.0.5 digest_0.6.34     R6_2.5.1          ## [29] parallel_4.3.2    magrittr_2.0.3    bslib_0.6.1       tools_4.3.2       ## [33] pkgdown_2.0.7     cachem_1.0.8      desc_1.4.3"},{"path":"https://furlan-lab.github.io//authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Scott Furlan. Author, maintainer.","code":""},{"path":"https://furlan-lab.github.io//authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Furlan S (2024). mergebamsR: merging bams R. R package version 0.0.2, https://furlan-lab.github.io/mergebamsR/.","code":"@Manual{,   title = {mergebamsR: merging bams with R},   author = {Scott Furlan},   year = {2024},   note = {R package version 0.0.2},   url = {https://furlan-lab.github.io/mergebamsR/}, }"},{"path":"https://furlan-lab.github.io//index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"merging bams with R","text":"First need updated Rust installation. Go site learn install Rust. install mergebamsR:","code":"remotes::install_github(\"furlan-lab/mergebamsR\")"},{"path":"https://furlan-lab.github.io//index.html","id":"how-to-start","dir":"","previous_headings":"","what":"How to start","title":"merging bams with R","text":"vignette… vignette(\"HowTo\") explore basics package.","code":""},{"path":"https://furlan-lab.github.io//index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"merging bams with R","text":"MIT license.","code":""},{"path":"https://furlan-lab.github.io//index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"merging bams with R","text":"Written Scott Furlan.","code":""},{"path":"https://furlan-lab.github.io//reference/mergebams.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge BAM files — mergebams","title":"Merge BAM files — mergebams","text":"function merges multiple BAM files single output file. checks existence input BAM file output directory. function allows optional customization output names prefixes.","code":""},{"path":"https://furlan-lab.github.io//reference/mergebams.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge BAM files — mergebams","text":"","code":"mergebams(bams, out_path, names = NULL, prefixes = NULL)"},{"path":"https://furlan-lab.github.io//reference/mergebams.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge BAM files — mergebams","text":"bams vector file paths BAM files merged. out_path directory path merged BAM file saved. function stop specified output path exist. names Optional; vector names assign merged BAM files. provided, names set empty list. prefixes Optional; vector prefixes prepend BAM file names merging. provided, prefixes used.","code":""},{"path":"https://furlan-lab.github.io//reference/mergebams.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge BAM files — mergebams","text":"return value; generates merged BAM file specified output path.","code":""},{"path":"https://furlan-lab.github.io//reference/mergebams.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Merge BAM files — mergebams","text":"documentation written ChatGPT v4 - OpenAI, conversation author, 5-1-2024.","code":""},{"path":"https://furlan-lab.github.io//reference/mergebams.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge BAM files — mergebams","text":"","code":"# Assuming you have valid paths to BAM files: bam_files <- c(\"path/to/bam1.bam\", \"path/to/bam2.bam\") output_path <- \"path/to/output/directory\" mergebams(bam_files, output_path) #> Error in mergebams(bam_files, output_path): Provided out_path not found: path/to/output/directory"},{"path":"https://furlan-lab.github.io//reference/mergebamsR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mergebamsR: merging bams with R — mergebamsR-package","title":"mergebamsR: merging bams with R — mergebamsR-package","text":"complicated","code":""},{"path":[]},{"path":"https://furlan-lab.github.io//reference/mergebamsR-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mergebamsR: merging bams with R — mergebamsR-package","text":"Maintainer: Scott Furlan scottfurlan@gmail.com (ORCID)","code":""},{"path":"https://furlan-lab.github.io//reference/mergebams_rust_helper.html","id":null,"dir":"Reference","previous_headings":"","what":"mergebams_rust — mergebams_rust_helper","title":"mergebams_rust — mergebams_rust_helper","text":"mergebams_rust","code":""},{"path":"https://furlan-lab.github.io//reference/mergebams_rust_helper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"mergebams_rust — mergebams_rust_helper","text":"","code":"mergebams_rust_helper(bams, out_path, names, prefixes)"},{"path":"https://furlan-lab.github.io//reference/peekbam.html","id":null,"dir":"Reference","previous_headings":"","what":"Peek into a BAM File with Tag Filtering — peekbam","title":"Peek into a BAM File with Tag Filtering — peekbam","text":"function provides quick look contents BAM file, filtered specific tag. validates input parameters, checks file's existence, utilizes helper function handle BAM processing file exists. error raised input conditions met.","code":""},{"path":"https://furlan-lab.github.io//reference/peekbam.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Peek into a BAM File with Tag Filtering — peekbam","text":"","code":"peekbam(bam, n = 100, TAG = \"CB\")"},{"path":"https://furlan-lab.github.io//reference/peekbam.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Peek into a BAM File with Tag Filtering — peekbam","text":"bam character string specifying path single BAM file. single file specified. n integer, defaulting 100, indicating number entries peek. n must greater 0. TAG character string specifying tag filter within BAM file. default \"CB\" (Cell Barcode).","code":""},{"path":"https://furlan-lab.github.io//reference/peekbam.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Peek into a BAM File with Tag Filtering — peekbam","text":"function return value; operates side effects invoking Rust helper function printing messages console.","code":""},{"path":"https://furlan-lab.github.io//reference/peekbam.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Peek into a BAM File with Tag Filtering — peekbam","text":"file exist, message displayed. n less 1 one BAM file specified, function stop error.","code":""},{"path":"https://furlan-lab.github.io//reference/peekbam.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Peek into a BAM File with Tag Filtering — peekbam","text":"documentation written ChatGPT v4 - OpenAI, conversation author, 5-2-2024.","code":""},{"path":"https://furlan-lab.github.io//reference/peekbam.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Peek into a BAM File with Tag Filtering — peekbam","text":"","code":"# Assuming 'example.bam' is a valid BAM file path: peekbam(\"example.bam\", n = 10, TAG = \"CB\") #> File not found: #> example.bam"},{"path":"https://furlan-lab.github.io//reference/peekbam_rust_helper.html","id":null,"dir":"Reference","previous_headings":"","what":"peekbam_rust — peekbam_rust_helper","title":"peekbam_rust — peekbam_rust_helper","text":"peekbam_rust","code":""},{"path":"https://furlan-lab.github.io//reference/peekbam_rust_helper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"peekbam_rust — peekbam_rust_helper","text":"","code":"peekbam_rust_helper(bam, n, tag)"},{"path":"https://furlan-lab.github.io//reference/subsetbam.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset a BAM file based on specific tags — subsetbam","title":"Subset a BAM file based on specific tags — subsetbam","text":"function subselects reads BAM file based provided tags writes subselected reads separate output BAM files. subselection done using specified tag (default \"CB\"). function can utilize multiple cores perform operation efficiently.","code":""},{"path":"https://furlan-lab.github.io//reference/subsetbam.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset a BAM file based on specific tags — subsetbam","text":"","code":"subsetbam(   inputbam,   tags,   outputbams,   prefixes = NULL,   TAG = \"CB\",   cores = 1,   verbose = F )"},{"path":"https://furlan-lab.github.io//reference/subsetbam.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset a BAM file based on specific tags — subsetbam","text":"inputbam character string specifying path input BAM file. tags character vector tags filter reads . outputbams character vector specifying paths output BAM files. prefixes Optional; character vector prefixes add read names output BAM files. NULL, prefixes added. Defaults NULL. TAG Optional; tag used subselection, default \"CB\". cores Optional; number cores use process, default 1. verbose Option increase verbosity output","code":""},{"path":"https://furlan-lab.github.io//reference/subsetbam.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset a BAM file based on specific tags — subsetbam","text":"return value, called side effects.","code":""},{"path":"https://furlan-lab.github.io//reference/subsetbam.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Subset a BAM file based on specific tags — subsetbam","text":"important length tags equal length outputbams. prefixes provided, length must also match length outputbams. conditions met, function stop throw error.","code":""},{"path":"https://furlan-lab.github.io//reference/subsetbam.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Subset a BAM file based on specific tags — subsetbam","text":"","code":"subsetbam(inputbam = \"path/to/input.bam\",            tags = c(\"TAG1\", \"TAG2\"),            outputbams = c(\"path/to/output1.bam\", \"path/to/output2.bam\"),           prefixes = c(\"prefix1\", \"prefix2\"),           TAG = \"CB\",           cores = 2) #> File not found: #> \tpath/to/input.bam"},{"path":"https://furlan-lab.github.io//reference/subsetbam_rust_helper.html","id":null,"dir":"Reference","previous_headings":"","what":"subsetbam_rust — subsetbam_rust_helper","title":"subsetbam_rust — subsetbam_rust_helper","text":"subsetbam_rust","code":""},{"path":"https://furlan-lab.github.io//reference/subsetbam_rust_helper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"subsetbam_rust — subsetbam_rust_helper","text":"","code":"subsetbam_rust_helper(inputbam, tags, outputbams, prefixes, tag, cores)"},{"path":"https://furlan-lab.github.io//news/index.html","id":"mergebamsr-v001","dir":"Changelog","previous_headings":"","what":"mergebamsR v0.0.1","title":"mergebamsR v0.0.1","text":"first stable version (released viewmastRust)","code":""},{"path":"https://furlan-lab.github.io//news/index.html","id":"mergebamsr-v002","dir":"Changelog","previous_headings":"","what":"mergebamsR v0.0.2","title":"mergebamsR v0.0.2","text":"new features - subsetbam","code":""}]
